"use strict";
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation and GitHub. All rights reserved.
 *--------------------------------------------------------------------------------------------*/
Object.defineProperty(exports, "__esModule", { value: true });
const prompt_tsx_1 = require("@vscode/prompt-tsx");
const chai_1 = require("chai");
const tag_1 = require("../../components/tag");
const test_utils_1 = require("./test-utils");
suite('Tag', () => {
    const atBudgets = [
        { budget: 1000, text: '<hello>\nQui culpa do consectetur amet.\n</hello>' },
        { budget: 30, text: '<hello>\nconsectetur amet.\n</hello>' },
        { budget: 10, text: '</hello>' },
    ];
    for (const { budget, text } of atBudgets) {
        test(`budget ${budget}`, async () => {
            const p = await (0, test_utils_1.renderTestPrompt)({
                ctor: class extends prompt_tsx_1.PromptElement {
                    render() {
                        return (vscpp(prompt_tsx_1.UserMessage, null,
                            vscpp(tag_1.Tag, { name: "hello" },
                                'Qui ',
                                'culpa ',
                                'do ',
                                'consectetur ',
                                'amet.')));
                    }
                },
                props: {},
                budget,
            });
            (0, chai_1.expect)((0, test_utils_1.getResultText)(p)).to.equal(text);
        });
    }
});
