"use strict";
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation and GitHub. All rights reserved.
 *--------------------------------------------------------------------------------------------*/
Object.defineProperty(exports, "__esModule", { value: true });
exports.HTMLTracerWrapper = void 0;
const prompt_tsx_1 = require("@vscode/prompt-tsx");
const vscode = require("vscode");
const lazy_1 = require("./util/vs/base/common/lazy");
class HTMLTracerWrapper {
    constructor() {
        this.tracer = new lazy_1.Lazy(() => new prompt_tsx_1.HTMLTracer());
    }
    getTracer(extensionMode) {
        return extensionMode === vscode.ExtensionMode.Development ? this.tracer.value : undefined;
    }
    async serveHTML() {
        if (!this.address) {
            this.address = (await this.tracer.value.serveHTML()).address;
        }
        return this.address;
    }
}
exports.HTMLTracerWrapper = HTMLTracerWrapper;
